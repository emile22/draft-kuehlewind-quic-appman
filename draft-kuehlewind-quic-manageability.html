<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>Manageability of the QUIC Transport Protocol</title>

  
<style type="text/css">/*<![CDATA[*/
@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}

@media screen and (min-width: 1024px) {
  ul.toc, #rfc\.toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 500px);
    width: 300px;
    padding: 0 1em;
    z-index: 1;
  }
  #rfc\.toc {
    top: 16px;
  }
  ul.toc {
    top: 80px;
    overflow: auto;
  }

  body {
    padding-left: 1.5em;
    padding-right: 29em;
  }
}

body {
  font: 15px "Helvetica Neue",Helvetica,Arial,sans-serif;
  color: #333;
  font-size-adjust: 0.5;
  line-height: 130%;
  margin: 2.5em auto;
  max-width: 724px;
}

.title, .filename, h1, h2, h3, h4 {
  font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
  font-size-adjust: 0.5;
  font-weight: 500;
  color: #333;
  line-height: 100%;
  margin: 0.8em 0 0.3em;
}
.title { font-size: 36px; }
h1 { font-size: 30px; }
h2 { font-size: 24px; }
h3, h4 { font-size: 18px; }
h1 a[href], h2 a[href], h3 a[href], h4 a[href] {
  color: #333;
}

ul.toc li {
  list-style: none;
  text-indent: -2.5em;
  padding-left: 2.5em;
  padding-bottom: 5px;
  margin: 0;
}
ul.toc ul {
  margin: 0;
}
/* xml2rfc nests ul directly inside ul which messes with the style badly */
ul.toc, ul.toc>ul, ul.toc ul>ul {
  margin: 0 0 0 1.5em;
}

table {
  margin-left: 0em;
  border-collapse: collapse;
}
th {
  text-align: left;
  border-bottom: 2px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
  vertical-align: top;
}
tr:nth-child(2n+1) > td,
tr:nth-child(2n+1) > th {
  background-color: #f9f9f9;
}
td.reference {
  max-width: 200px;
  border-top: none;
  padding-right: 1em;
}
.right {
  text-align: right;
}


table.header {
  width: 100%;
}
table.header td {
  border: none;
  background-color: transparent;
  color: black;
}
.filename {
  color: rgb(119, 119, 119);
  font-size: 23px;
  font-weight: normal;
  height: auto;
  line-height: 100%;
}
#rfc\.abstract+p {
  font-size: 20px;
  font-weight: 300;
  line-height: 130%;
}

samp, tt, code, pre {
  font: 11pt consolas, monospace;
  font-size-adjust: none;
}
pre {
  background-color: #eee;
  border: 1px solid #ddd;
  overflow-x: auto;
  padding: 5px;
  margin: 5px;
}
.figure {
  font-style: italic;
  margin: 0 1.5em;
}

address {
  margin: 10px 0 0;
}
.vcard {
  font-style: normal;
}
.vcardline {
  display: block;
}
.vcardline .fn {
  font-weight: bold;
}
.vcardline .hidden {
  display: none;
}

dl {
  margin-left: 1em;
}
dl.dl-horizontal: {
  margin-left: 0;
}
dl > dt {
  float: left;
  margin-right: 1em;
}
dl.nohang > dt {
  float: none;
}
dl > dd {
  margin-bottom: .5em;
}
dl.compact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}
ul.empty {
  list-style-type: none;
}
ul.empty li {
  margin-top: .5em;
}

hr {
  border: 0;
  border-top: 1px solid #eee;
}

a {
  text-decoration: none;
}
a[href] {
  color: #2a6496;
}
a[href]:hover {
  background-color: #eee;
}

ol, ul, li, p {
  padding: 0;
  margin: 0.5em 0 0.5em 2em;
}
li, p {
  margin-left: 0;
}
address {
  font-style: normal;
}

.github-fork-ribbon-wrapper {
  display: none;
}
@media screen and (min-width: 800px) {
  /* "Fork me on GitHub" CSS ribbon based on
   * https://github.com/simonwhitaker/github-fork-ribbon-css
   */
  .github-fork-ribbon {
    position: absolute;
    padding: 2px 0;
    background-color: #a00;
    background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.15));
    box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.5);
    font: 700 12px "Helvetica Neue", Helvetica, Arial, sans-serif;

    pointer-events: auto;

    top: 38px;
    right: -45px;

    transform: rotate(45deg);
  }

  .github-fork-ribbon a[href],
  .github-fork-ribbon a[href]:hover {
    color: #fff;
    background-color: transparent;
    text-decoration: none;
    text-shadow: 0 -1px rgba(0, 0, 0, 0.5);
    text-align: center;

    width: 190px;
    line-height: 18px;

    display: inline-block;
    padding: 2px 0;

    border: 1.5px dotted #fff;
    border-color: rgba(255, 255, 255, 0.6);
  }

  .github-fork-ribbon-wrapper {
    display: block;
    width: 130px;
    height: 130px;
    position: absolute;
    overflow: hidden;
    top: 0; right: 0;
    z-index: 2;
    pointer-events: none;
  }
}
@media screen and (min-width: 1000px) {
  .github-fork-ribbon-wrapper {
    position: fixed;
  }
/*]]>*/</style>


  <link href="#rfc.toc" rel="Contents"/>
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction"/>
<link href="#rfc.section.1.1" rel="Chapter" title="1.1 Notational Conventions"/>
<link href="#rfc.section.2" rel="Chapter" title="2 Features of the QUIC Wire Image"/>
<link href="#rfc.section.2.1" rel="Chapter" title="2.1 QUIC Packet Header Structure"/>
<link href="#rfc.section.2.2" rel="Chapter" title="2.2 Integrity Protection of the Wire Image"/>
<link href="#rfc.section.2.3" rel="Chapter" title="2.3 Connection ID and Rebinding"/>
<link href="#rfc.section.2.4" rel="Chapter" title="2.4 Packet Numbers"/>
<link href="#rfc.section.3" rel="Chapter" title="3 Specific Network Management Tasks"/>
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 Stateful Treatment of QUIC Traffic"/>
<link href="#rfc.section.3.2" rel="Chapter" title="3.2 Measurement of QUIC Traffic"/>
<link href="#rfc.section.3.3" rel="Chapter" title="3.3 DDoS Detection and Mitigation"/>
<link href="#rfc.section.3.4" rel="Chapter" title="3.4 Radio Access Network Tuning and Channel Optimization"/>
<link href="#rfc.section.4" rel="Chapter" title="4 IANA Considerations"/>
<link href="#rfc.section.5" rel="Chapter" title="5 Security Considerations"/>
<link href="#rfc.section.6" rel="Chapter" title="6 Acknowledgments"/>
<link href="#rfc.references" rel="Chapter" title="7 References"/>
<link href="#rfc.references.1" rel="Chapter" title="7.1 Normative References"/>
<link href="#rfc.references.2" rel="Chapter" title="7.2 Informative References"/>
<link href="#rfc.authors" rel="Chapter"/>


  <meta name="generator" content="xml2rfc version 2.5.1 - http://tools.ietf.org/tools/xml2rfc" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />

  <meta name="dct.creator" content="Kuehlewind, M. and B. Trammell" />
  <meta name="dct.identifier" content="urn:ietf:id:draft-kuehlewind-quic-manageability-latest" />
  <meta name="dct.issued" scheme="ISO8601" content="2017-3-08" />
  <meta name="dct.abstract" content="This document discusses manageability of the QUIC transport protocol, focusing on caveats impacting network operations involving QUIC traffic. Its intended audience is network operators, as well as implementors of the QUIC transport protocol and applications using it." />
  <meta name="description" content="This document discusses manageability of the QUIC transport protocol, focusing on caveats impacting network operations involving QUIC traffic. Its intended audience is network operators, as well as implementors of the QUIC transport protocol and applications using it." />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
  <td class="left">Network Working Group</td>
  <td class="right">M. Kuehlewind</td>
</tr>
<tr>
  <td class="left">Internet-Draft</td>
  <td class="right">B. Trammell</td>
</tr>
<tr>
  <td class="left">Intended status: Informational</td>
  <td class="right">ETH Zurich</td>
</tr>
<tr>
  <td class="left">Expires: September 9, 2017</td>
  <td class="right">March 08, 2017</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">Manageability of the QUIC Transport Protocol<br />
  <span class="filename">draft-kuehlewind-quic-manageability-latest</span></p>
  
  <h1 id="rfc.abstract">
  <a href="#rfc.abstract">Abstract</a>
</h1>
<p>This document discusses manageability of the QUIC transport protocol, focusing on caveats impacting network operations involving QUIC traffic. Its intended audience is network operators, as well as implementors of the QUIC transport protocol and applications using it.</p>
<h1 id="rfc.status">
  <a href="#rfc.status">Status of This Memo</a>
</h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on September 9, 2017.</p>
<h1 id="rfc.copyrightnotice">
  <a href="#rfc.copyrightnotice">Copyright Notice</a>
</h1>
<p>Copyright (c) 2017 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a></li>
<ul><li>1.1.   <a href="#rfc.section.1.1">Notational Conventions</a></li>
</ul><li>2.   <a href="#rfc.section.2">Features of the QUIC Wire Image</a></li>
<ul><li>2.1.   <a href="#rfc.section.2.1">QUIC Packet Header Structure</a></li>
<li>2.2.   <a href="#rfc.section.2.2">Integrity Protection of the Wire Image</a></li>
<li>2.3.   <a href="#rfc.section.2.3">Connection ID and Rebinding</a></li>
<li>2.4.   <a href="#rfc.section.2.4">Packet Numbers</a></li>
</ul><li>3.   <a href="#rfc.section.3">Specific Network Management Tasks</a></li>
<ul><li>3.1.   <a href="#rfc.section.3.1">Stateful Treatment of QUIC Traffic</a></li>
<li>3.2.   <a href="#rfc.section.3.2">Measurement of QUIC Traffic</a></li>
<li>3.3.   <a href="#rfc.section.3.3">DDoS Detection and Mitigation</a></li>
<li>3.4.   <a href="#rfc.section.3.4">Radio Access Network Tuning and Channel Optimization</a></li>
</ul><li>4.   <a href="#rfc.section.4">IANA Considerations</a></li>
<li>5.   <a href="#rfc.section.5">Security Considerations</a></li>
<li>6.   <a href="#rfc.section.6">Acknowledgments</a></li>
<li>7.   <a href="#rfc.references">References</a></li>
<ul><li>7.1.   <a href="#rfc.references.1">Normative References</a></li>
<li>7.2.   <a href="#rfc.references.2">Informative References</a></li>
</ul><li><a href="#rfc.authors">Authors' Addresses</a></li>


  </ul>

  <h1 id="rfc.section.1"><a href="#rfc.section.1">1.</a> <a href="#introduction" id="introduction">Introduction</a></h1>
<p id="rfc.section.1.p.1">QUIC <a href="#I-D.ietf-quic-transport">[I-D.ietf-quic-transport]</a> is a new transport protocol currently under development in the IETF quic working group, focusing on support of semantics as needed for HTTP/2 <a href="#I-D.ietf-quic-http">[I-D.ietf-quic-http]</a> such as stream-multiplexing to avoid head-of-line blocking. Based on current deployment practices, QUIC is encapsulated in UDP and encrypted by default. This means the version of QUIC that is currently under development will integrate TLS 1.3 <a href="#I-D.ietf-quic-tls">[I-D.ietf-quic-tls]</a> to encrypt all payload data and most header information. Given QUIC is an end-to-end transport protocol, all information in the protocol header, even that which can be inspected, is is not meant to be mutable by the network, and will therefore be integrity-protected to the extent possible.</p>
<p id="rfc.section.1.p.2">This document provides guidance for network operation and management of QUIC traffic. This includes guidance on how to interpret and utilize information that is exposed by QUIC to the network as well as explaining requirement and assumptions that the QUIC protocol design takes toward the expected network treatment. It also discusses how common network management practices will be impacted by QUIC.</p>
<p id="rfc.section.1.p.3">Note that network management is not a one-size-fits-all endeavour: practices considered necessary or even mandatory within enterprise networks with certain compliance requirements, for example, would be impermissible on other networks without those requirements. This document therefore does not make any specific recommendations as to which practices should or should not be applied; for each practice, it describes what is and is not possible with the QUIC transport protocol as defined.</p>
<h1 id="rfc.section.1.1"><a href="#rfc.section.1.1">1.1.</a> <a href="#notational-conventions" id="notational-conventions">Notational Conventions</a></h1>
<p id="rfc.section.1.1.p.1">The words &#8220;MUST&#8221;, &#8220;MUST NOT&#8221;, &#8220;SHOULD&#8221;, and &#8220;MAY&#8221; are used in this document.  It&#8217;s not shouting; when these words are capitalized, they have a special meaning as defined in <a href="#RFC2119">[RFC2119]</a>.</p>
<h1 id="rfc.section.2"><a href="#rfc.section.2">2.</a> <a href="#features-of-the-quic-wire-image" id="features-of-the-quic-wire-image">Features of the QUIC Wire Image</a></h1>
<p id="rfc.section.2.p.1">In this section, we discusses those aspects of the QUIC transport protocol that have an impact on the design and operation of devices that forward QUIC packets.  Here, we are concerned primarily with QUIC&#8217;s unencrypted wire image, which we define as the information available in the packet header in each QUIC packet, and the dynamics of that information. Since QUIC is a versioned protocol, everything about the header format can change except the mechanism by which a receiver can determine whether and where a version number is present, and the meaning of the fields used in the version negotiation process. This document is focused on the protocol as presently defined in <a href="#I-D.ietf-quic-transport">[I-D.ietf-quic-transport]</a> and <a href="#I-D.ietf-quic-tls">[I-D.ietf-quic-tls]</a>, and will change to track those documents.</p>
<h1 id="rfc.section.2.1"><a href="#rfc.section.2.1">2.1.</a> <a href="#public-header" id="public-header">QUIC Packet Header Structure</a></h1>
<p id="rfc.section.2.1.p.1">[EDITOR&#8217;S NOTE: this gets mostly rewritten after PR#xxx happens. This text is unchanged from the -00 revision of the combined applicability and manageability document.]</p>
<p id="rfc.section.2.1.p.2">In the current version of the QUIC protocol, the following information are optionally exposed in the QUIC header:</p>
<p/>

<ul>
  <li>flags: All QUIC packets have one byte of flags at the beginning of their header. The definition of these flags can change with the version of QUIC, expect for the version flag that indicated that the version number is present in the QUIC header. Other bits of the flag field in the current version of QUIC are the connection ID flag, the packet number size field, the public reset flag, and the key phase flag.</li>
  <li>version number: The version number is present if the version bit in the flags field is set. The version flag is always set in the first packet of a connection but could also be set in other packets.</li>
  <li>connection ID: The connection ID is present if the connection ID bit in the flag field is set. The connection ID flag is always set on the first packet of a connection and can be set on others. Further the connection ID flag is always set when the public reset bit is set as well. QUIC connections are resistant to IP address changes. Therefore if exposed, the same connection ID can occur in QUIC packet with different 5-tuples, indicating that this QUIC packet belongs to the same connection.</li>
  <li>packet number: The packet number is variable length as indicated by packet number size field. If the length is indicated as zero the packet number is not present. If the public reset flag is set, the packet number cannot be present.</li>
</ul>
<h1 id="rfc.section.2.2"><a href="#rfc.section.2.2">2.2.</a> <a href="#wire-integrity" id="wire-integrity">Integrity Protection of the Wire Image</a></h1>
<p id="rfc.section.2.2.p.1">All information in the QUIC header, even that exposed in the packet header, is integrity protected. Therefore, devices on path MUST NOT change QUIC packet headers, as alteration of header information would cause packet drop due to a failed integrity check at the receiver.</p>
<h1 id="rfc.section.2.3"><a href="#rfc.section.2.3">2.3.</a> <a href="#rebinding" id="rebinding">Connection ID and Rebinding</a></h1>
<p id="rfc.section.2.3.p.1">The connection ID in the QUIC packer header is used to allow routing of QUIC packets at load balancers on other than five-tuple information, ensuring that related flows are appropriately balanced together; and to allow rebinding of a connection after one of the endpoint&#8217;s addresses changes - usually the client&#8217;s, in the case of the HTTP binding. The connection ID is proposed by the server during connection establishment [EDITOR&#8217;S NOTE: check this].</p>
<p id="rfc.section.2.3.p.2">A flow might change one of its IP addresses but keep the same connection ID, as noted in <a href="#public-header">Section 2.1</a> [EDITOR&#8217;S NOTE: refer to the appropriate section of <a href="#I-D.ietf-quic-transport">[I-D.ietf-quic-transport]</a> for details on how rebinding works].</p>
<p id="rfc.section.2.3.p.3">[EDITOR&#8217;S NOTE: Update this section to explain that connection ID may change after &#8216;handshake&#8217; if connection ID is server initiated. ]</p>
<h1 id="rfc.section.2.4"><a href="#rfc.section.2.4">2.4.</a> <a href="#packet-numbers" id="packet-numbers">Packet Numbers</a></h1>
<p id="rfc.section.2.4.p.1">The packet number field is always present in the QUIC packet header. The packet number exposes the least significant 32, 16, or 8 bits of an internal packet counter per flow direction that increments by one with each packet sent [EDITOR&#8217;S NOTE: make sure this has been done now]. This packet counter is initialized with a random 31-bit initial value at the start of a connection.</p>
<p id="rfc.section.2.4.p.2">Unlike TCP sequence numbers, this packet number increases with every packet, including those containing only acknowledgment or other control information.  Indeed, whether a packet contains user data or only control information is intentionally left unexposed to the network [EDITOR&#8217;S NOTE: currently outstanding PRs may change this?].</p>
<p id="rfc.section.2.4.p.3">While loss detection in QUIC is based on packet numbers, congestion control by default provides richer information than vanilla TCP does.  Especially, QUIC does not rely on duplicated ACKs, making it more tolerant of packet re-ordering.</p>
<p id="rfc.section.2.4.p.4">[EDITORS&#8217;S NOTE: For future multipath QUIC: would packet number be shared in this case?]</p>
<h1 id="rfc.section.3"><a href="#rfc.section.3">3.</a> <a href="#specific-network-management-tasks" id="specific-network-management-tasks">Specific Network Management Tasks</a></h1>
<p id="rfc.section.3.p.1">In this section, we address specific network management and measurement techniques and how QUIC&#8217;s design impacts them.</p>
<h1 id="rfc.section.3.1"><a href="#rfc.section.3.1">3.1.</a> <a href="#statefulness" id="statefulness">Stateful Treatment of QUIC Traffic</a></h1>
<p id="rfc.section.3.1.p.1">Stateful network devices such as firewalls use exposed header information to support state setup and tear-down. <a href="#I-D.trammell-plus-statefulness">[I-D.trammell-plus-statefulness]</a> provides a general model for in-network state management on these devices, independent of transport protocol. Features already present in QUIC may be used for state maintenance in this model. Here, there are two important goals: distinguishing valid QUIC connection establishment from other traffic, in order to establish state; and determining the end of a QUIC connection, in order to tear that state down.</p>
<p id="rfc.section.3.1.p.2">[EDITOR&#8217;S NOTE: walk through how 1-RTT and 0-RTT connection establishment look from the path&#8217;s point of view.]</p>
<p id="rfc.section.3.1.p.3">[EDITOR&#8217;S NOTE: follow ongoing discussion about public reset and CONNECTION_CLOSE exposure.]</p>
<h1 id="rfc.section.3.2"><a href="#rfc.section.3.2">3.2.</a> <a href="#measurement" id="measurement">Measurement of QUIC Traffic</a></h1>
<p id="rfc.section.3.2.p.1">Passive measurement of TCP performance parameters is commonly deployed in access and enterprise networks to aid troubleshooting and performance monitoring without requiring the generation of active measurement traffic. The availability of</p>
<p id="rfc.section.3.2.p.2">The presence of packet numbers on most QUIC packets allows the trivial one-sided estimation of packet loss and reordering between the sender and a given observation point. However, since retransmissions are not identifiable as such, loss between an observation point and the receiver cannot be reliably estimated.</p>
<p id="rfc.section.3.2.p.3">The lack of any acknowledgement information or timestamping information in the QUIC packet header makes running passive estimation of latency via round trip time (RTT) impossible. RTT can only be measured at connection establishment time, and only when 1-RTT establishment is used.</p>
<p id="rfc.section.3.2.p.4">The authors note that a simple packet number echo exposed in the QUIC packet header, containing the maximum packet number received by the sender before a given packet was sent, would rectify the passive RTT measurement problem, and make partial estimates of observation point to receiver loss possible as well.  For efficiency purposes, this packet number echo need not be carried on every packet, and could be made optional, allowing endpoints to make a measurability/efficiency tradeoff [EDITOR&#8217;S NOTE: (see section x.y of <a href="#IPIM">[IPIM]</a>)]. We further note that this facility would have significantly better measurability characteristics than sequence-acknowledgement-based RTT measurement currently available in TCP on typical asymmetric flows, as adequate samples will be available in both directions, and packet number echo would be decoupled from the underlying acknowledgment machinery [EDITOR&#8217;S NOTE: cite stretch-ack].</p>
<p id="rfc.section.3.2.p.5">[EDITOR&#8217;S NOTE: note in-network devices can inspect and correlate connection IDs for partial tracking of mobility events. does this need its own section?]</p>
<h1 id="rfc.section.3.3"><a href="#rfc.section.3.3">3.3.</a> <a href="#ddos-detection-and-mitigation" id="ddos-detection-and-mitigation">DDoS Detection and Mitigation</a></h1>
<p id="rfc.section.3.3.p.1">For enterprises and network operators one of the biggest management challenges is dealing with Distributed Denial of Service (DDoS) attacks. Some network operators offer Security as a Service (SaaS) solutions that detect attacks by monitoring, analyzing and filtering traffic. These approaches generally utilize network flow data <a href="#RFC7011">[RFC7011]</a>. If any flows pose a threat, usually they are routed to a &#8220;scrubbing environment&#8221; where the traffic is filtered, allowing the remaining &#8220;good&#8221; traffic to continue to the customer environment. [EDITOR&#8217;S NOTE: has dots produced anything to cite here?]</p>
<p id="rfc.section.3.3.p.2">This type of DDoS mitigation is fundamentally based on tracking state for flows (see <a href="#statefulness">Section 3.1</a>), and classifying flows as legitimate or DoS traffic. The QUIC packet header currently has limited information to support this classification, especially when the DDoS traffic consists of legitimate QUIC packets.</p>
<p id="rfc.section.3.3.p.3">In addition, the use of a connection ID to support connection migration renders 5-tuple based filtering ineffective, and requires more state to be maintained by DDoS defense systems. QUIC&#8217;s version negotiation feature, if used to support many simultaneously deployed versions of QUIC with different packet header layouts, will further complicate fast inspection and discrimination of legitimate from illegitimate QUIC packets in-network.</p>
<p id="rfc.section.3.3.p.4">0-RTT connection establishment further complicates the identification of valid QUIC traffic and the extraction of association and confirmation signals as per <a href="#I-D.trammell-plus-statefulness">[I-D.trammell-plus-statefulness]</a>. IoT devices acting as servers will pose a particular risk in this context.</p>
<h1 id="rfc.section.3.4"><a href="#rfc.section.3.4">3.4.</a> <a href="#radio-access-network-tuning-and-channel-optimization" id="radio-access-network-tuning-and-channel-optimization">Radio Access Network Tuning and Channel Optimization</a></h1>
<p id="rfc.section.3.4.p.1">[EDITOR&#8217;S NOTE: per ACCORD, there seems to be some disconnect as to whether anyone is actually using, or planning to use, multiple-bearer solutions for Internet-bound traffic. If not, this section is moot.]</p>
<p id="rfc.section.3.4.p.2">3GPP mobile networks support Traffic Flow Templates that allow specific flows, identified by 5-tuples, to traverse different data bearers with different characteristics based on how they are configured. [EDITOR&#8217;S NOTE: a reference here would be nice]. Specifically, in scheduled networks, there is an inherent balancing act among absolute data rate, latency, and jitter. Today&#8217;s 3GPP mobile networks balance the needs of different types of traffic (e.g. the high bit rate download that is unaffected by jitter vs real time communications that are lower bit rate but require minimal jitter or latency impact) by performing traffic inspection to classify flows, assigning them to bearers best configured for the respective type of traffic.</p>
<p id="rfc.section.3.4.p.3">[EDITOR&#8217;S NOTE: I&#8217;m not sure what the problem is here, since applicability says &#8220;don&#8217;t do this&#8221;. Would anyone ever use different QUIC streams like this? There is of course the further problem of classifying encrypted traffic.]</p>
<p id="rfc.section.3.4.p.4">As noted in section 4 of <a href="#draft-kuehlewind-quic-applicability">[draft-kuehlewind-quic-applicability]</a>, QUIC supports stream multiplexing within the same connection; i.e. on the same 5-tuple. This provides several benefits, however at same time it prevents a 3GPP mobile network from working as previously described, because  there is no way to de-multiplex the traffic into multiple data bearers. For a 3GPP mobile network operator this limits the ability to tune the network efficiently based on traffic classification. This can become even more challenging when different applications will be able to rely on QUIC as a transport protocol. This particular scenario is not to be confused with different QoS requirements for the flows as those can be addressed be the client by initiating different connections.</p>
<h1 id="rfc.section.4"><a href="#rfc.section.4">4.</a> <a href="#iana-considerations" id="iana-considerations">IANA Considerations</a></h1>
<p id="rfc.section.4.p.1">This document has no actions for IANA.</p>
<h1 id="rfc.section.5"><a href="#rfc.section.5">5.</a> <a href="#security-considerations" id="security-considerations">Security Considerations</a></h1>
<p id="rfc.section.5.p.1">Supporting manageability of QUIC traffic inherently involves tradeoffs with the confidentiality of QUIC&#8217;s control information; this entire document is therefore security-relevant.</p>
<p id="rfc.section.5.p.2">Some of the properties of the QUIC header used in network management are irrelevant to application-layer protocol operation and/or user privacy. For example, packet number exposure (and echo, as proposed in this document), as well as connection establishment exposure for 1-RTT establishment, make no additional information about user traffic available to devices on path.</p>
<p id="rfc.section.5.p.3">At the other extreme, supporting current traffic classification methods that operate through the deep packet inspection (DPI) of application-layer headers are directly antithetical to QUIC&#8217;s goal to provide confidentiality to its application-layer protocol(s); in these cases, alternatives must be found.</p>
<h1 id="rfc.section.6"><a href="#rfc.section.6">6.</a> <a href="#acknowledgments" id="acknowledgments">Acknowledgments</a></h1>
<p id="rfc.section.6.p.1">This work is partially supported by the European Commission under Horizon 2020 grant agreement no. 688421 Measurement and Architecture for a Middleboxed Internet (MAMI), and by the Swiss State Secretariat for Education, Research, and Innovation under contract no. 15.0268. This support does not imply endorsement.</p>
<h1 id="rfc.references"><a href="#rfc.references">7.</a> References</h1>
<h1 id="rfc.references.1"><a href="#rfc.references.1">7.1.</a> Normative References</h1>
<table>
  <tbody>
    <tr>
      <td class="reference">
        <b id="I-D.ietf-quic-tls">[I-D.ietf-quic-tls]</b>
      </td>
      <td class="top"><a>Thomson, M.</a> and <a>S. Turner</a>, "<a href="http://tools.ietf.org/html/draft-ietf-quic-tls-01">Using Transport Layer Security (TLS) to Secure QUIC</a>", Internet-Draft draft-ietf-quic-tls-01, January 2017.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="I-D.ietf-quic-transport">[I-D.ietf-quic-transport]</b>
      </td>
      <td class="top"><a>Iyengar, J.</a> and <a>M. Thomson</a>, "<a href="http://tools.ietf.org/html/draft-ietf-quic-transport-01">QUIC: A UDP-Based Multiplexed and Secure Transport</a>", Internet-Draft draft-ietf-quic-transport-01, January 2017.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC2119">[RFC2119]</b>
      </td>
      <td class="top"><a>Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, DOI 10.17487/RFC2119, March 1997.</td>
    </tr>
  </tbody>
</table>
<h1 id="rfc.references.2"><a href="#rfc.references.2">7.2.</a> Informative References</h1>
<table>
  <tbody>
    <tr>
      <td class="reference">
        <b id="draft-kuehlewind-quic-applicability">[draft-kuehlewind-quic-applicability]</b>
      </td>
      <td class="top"><a title="ETH Zurich">Kuehlewind, M.</a> and <a title="ETH Zurich">B. Trammell</a>, "<a>Applicability of the QUIC Transport Protocol</a>", March 2017.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="I-D.ietf-quic-http">[I-D.ietf-quic-http]</b>
      </td>
      <td class="top"><a>Bishop, M.</a>, "<a href="http://tools.ietf.org/html/draft-ietf-quic-http-01">Hypertext Transfer Protocol (HTTP) over QUIC</a>", Internet-Draft draft-ietf-quic-http-01, January 2017.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="I-D.trammell-plus-statefulness">[I-D.trammell-plus-statefulness]</b>
      </td>
      <td class="top"><a>Kuehlewind, M.</a>, <a>Trammell, B.</a> and <a>J. Hildebrand</a>, "<a href="http://tools.ietf.org/html/draft-trammell-plus-statefulness-02">Transport-Independent Path Layer State Management</a>", Internet-Draft draft-trammell-plus-statefulness-02, December 2016.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="IPIM">[IPIM]</b>
      </td>
      <td class="top"><a>Allman, M.</a>, <a>Beverly, R.</a> and <a>B. Trammell</a>, "<a>In-Protocol Internet Measurement (arXiv preprint 1612.02902)</a>", December 2016.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC7011">[RFC7011]</b>
      </td>
      <td class="top"><a>Claise, B.</a>, <a>Trammell, B.</a> and <a>P. Aitken</a>, "<a href="http://tools.ietf.org/html/rfc7011">Specification of the IP Flow Information Export (IPFIX) Protocol for the Exchange of Flow Information</a>", STD 77, RFC 7011, DOI 10.17487/RFC7011, September 2013.</td>
    </tr>
  </tbody>
</table>
<h1 id="rfc.authors">
  <a href="#rfc.authors">Authors' Addresses</a>
</h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Mirja Kuehlewind</span> 
	  <span class="n hidden">
		<span class="family-name">Kuehlewind</span>
	  </span>
	</span>
	<span class="org vcardline">ETH Zurich</span>
	<span class="adr">
	  <span class="vcardline">Gloriastrasse 35</span>

	  <span class="vcardline">
		<span class="locality">8092 Zurich</span>,  
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline">Switzerland</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:mirja.kuehlewind@tik.ee.ethz.ch">mirja.kuehlewind@tik.ee.ethz.ch</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Brian Trammell</span> 
	  <span class="n hidden">
		<span class="family-name">Trammell</span>
	  </span>
	</span>
	<span class="org vcardline">ETH Zurich</span>
	<span class="adr">
	  <span class="vcardline">Gloriastrasse 35</span>

	  <span class="vcardline">
		<span class="locality">8092 Zurich</span>,  
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline">Switzerland</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:ietf@trammell.ch">ietf@trammell.ch</a></span>

  </address>
</div>

</body>
</html>
