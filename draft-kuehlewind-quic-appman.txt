



Network Working Group                                      M. Kuehlewind
Internet-Draft                                               B. Trammell
Intended status: Informational                                ETH Zurich
Expires: July 14, 2017                                  January 10, 2017


      Applicability and Management of the QUIC Transport Protocol
                  draft-kuehlewind-quic-appman-latest

Abstract

   This document discusses the applicability of the QUIC transport
   protocol, focusing on caveats impacting application protocol
   development and deployment over QUIC, and network operations
   involving QUIC traffic.  It also describes the manageability of QUIC
   traffic on Internet-connected networks, blah blah blorg snarf.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on July 14, 2017.

Copyright Notice

   Copyright (c) 2017 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.



Kuehlewind & Trammell     Expires July 14, 2017                 [Page 1]

Internet-DrafApplicability and Management of the QUIC Trans January 2017


Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   2
   3.  Applicability of QUIC . . . . . . . . . . . . . . . . . . . .   2
     3.1.  The Necessity of TCP Fallback . . . . . . . . . . . . . .   2
     3.2.  Zero RTT: Here There Be Dragons . . . . . . . . . . . . .   3
     3.3.  Other Shiny Crypto Stuff? . . . . . . . . . . . . . . . .   3
     3.4.  Stream versus Flow Multiplexing . . . . . . . . . . . . .   3
   4.  Manageability of QUIC . . . . . . . . . . . . . . . . . . . .   3
     4.1.  Versioning  . . . . . . . . . . . . . . . . . . . . . . .   3
     4.2.  Version xxx QUIC Public Header Structure  . . . . . . . .   3
     4.3.  Integrity Protection of the Wire Image  . . . . . . . . .   4
     4.4.  Connection ID and Rebinding . . . . . . . . . . . . . . .   4
     4.5.  Packet Numbers  . . . . . . . . . . . . . . . . . . . . .   4
     4.6.  Stateful Treatment of QUIC Traffic  . . . . . . . . . . .   4
     4.7.  Measuring QUIC Traffic  . . . . . . . . . . . . . . . . .   4
   5.  Open Issues in the QUIC Transport Protocol  . . . . . . . . .   4
   6.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   5
   7.  Security Considerations . . . . . . . . . . . . . . . . . . .   5
   8.  Acknowledgments . . . . . . . . . . . . . . . . . . . . . . .   5
   9.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   5
     9.1.  Normative References  . . . . . . . . . . . . . . . . . .   5
     9.2.  Informative References  . . . . . . . . . . . . . . . . .   5
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   5

1.  Introduction

   frontmatter!!

   note that this document is only notes. remove this note when we have
   written a real draft.

2.  Terminology

   do we need this? mirja says no.

3.  Applicability of QUIC

   note that applicability concerns mainly those aspects of the protocol
   that have an impact on the applications that run over QUIC.

3.1.  The Necessity of TCP Fallback

   UDP blocking about five percent, application must be able to fall
   back to TCP over TLS. there are interface issues here: first, must
   work without stream multiplexing. second, crypto must work with
   vanilla TLS 1.3.



Kuehlewind & Trammell     Expires July 14, 2017                 [Page 2]

Internet-DrafApplicability and Management of the QUIC Trans January 2017


3.2.  Zero RTT: Here There Be Dragons

   Zero RTT data must be treated specially by the application layer: it
   must be idempotent, as it may be retransmitted.  Note that there is
   also a replay attack vector here, so the application layer protocol
   must also be defined in such a way to eliminate the utility of a
   replay attack using zero RTT data.

3.3.  Other Shiny Crypto Stuff?

   what happens when we have

3.4.  Stream versus Flow Multiplexing

   Since stream multiplexing is implemented within the crypto veil, it
   is not visible to the network. therefore it is not useful for
   differentiating streams in terms of network treatment. in this case,
   use different five-tuples instead. this isn't a big deal due to low
   costs of setting up a new connection.

4.  Manageability of QUIC

   note that manageability concerns mainly those aspects of the protocol
   that have an impact on the operations of devices that forward QUIC
   packets. here we concern ourselves primarily with QUIC's wire image,
   which we define as the information available in the unencrypted
   packet header in each QUIC packet, and the dynamics of that
   information.

4.1.  Versioning

   everything can change except the position and meaning of the version
   field.

4.2.  Version xxx QUIC Public Header Structure

   in the current version of the QUIC protocol, here's what is available
   and when:

   o  version

   o  connection ID (always in version negotiation and public reset,
      otherwise optional)

   o  packet number (always except version negotiation and public reset)

   o  flags (always, but might have different meanings, expect version
      flag)



Kuehlewind & Trammell     Expires July 14, 2017                 [Page 3]

Internet-DrafApplicability and Management of the QUIC Trans January 2017


   o  diversification nonce (wtfis????)

4.3.  Integrity Protection of the Wire Image

   no meddleboxes

4.4.  Connection ID and Rebinding

   a flow might change one of its IP addresses but keep the same
   connection ID

4.5.  Packet Numbers

   note that packet numbers are monotonically increasing, but that
   packets containing retransmissions as well as packets containing only
   acknowledgments will get new packet numbers.  Pure control and
   retransmission packets are impossible to distinguish on the wire.

4.6.  Stateful Treatment of QUIC Traffic

   borrow from [I-D.trammell-plus-statefulness]. connection ID echo as
   association/confirmation signal. public reset as partial one-way
   stop. note that adding two-way stop as in
   [I-D.trammell-plus-statefulness] has nice properties.

4.7.  Measuring QUIC Traffic

   look at the packet numbers, gaps mean upstream loss. out-of-order
   always means upstream reordering. unlike with TCP, there is no way to
   measure RTT passively.

   note that addition of a simple packet number echo would allow passive
   RTT measurement and partial passive downstream loss/reordering
   measurement. packet number echo can be sampled at the echo-side (i.e.
   one-in-N packets or 1/p packets can carry an echo) for efficiency
   tradeoff, if necessary.

   look at the connection IDs for partial tracking of mobility events.

5.  Open Issues in the QUIC Transport Protocol

   note public reset changes for state management may be desirable.

   note packet number echo for measurement may be desirable.

   note that fiddly-ass packet header structures are asking for hard-to-
   debug trouble.




Kuehlewind & Trammell     Expires July 14, 2017                 [Page 4]

Internet-DrafApplicability and Management of the QUIC Trans January 2017


6.  IANA Considerations

   This document has no actions for IANA.

7.  Security Considerations

   write me

8.  Acknowledgments

   This work is partially supported by the European Commission under
   Horizon 2020 grant agreement no. 688421 Measurement and Architecture
   for a Middleboxed Internet (MAMI), and by the Swiss State Secretariat
   for Education, Research, and Innovation under contract no. 15.0268.
   This support does not imply endorsement.

9.  References

9.1.  Normative References

   [I-D.ietf-quic-transport]
              Iyengar, J. and M. Thomson, "QUIC: A UDP-Based Multiplexed
              and Secure Transport", draft-ietf-quic-transport-00 (work
              in progress), November 2016.

9.2.  Informative References

   [I-D.trammell-plus-statefulness]
              Kuehlewind, M., Trammell, B., and J. Hildebrand,
              "Transport-Independent Path Layer State Management",
              draft-trammell-plus-statefulness-02 (work in progress),
              December 2016.

Authors' Addresses

   Mirja Kuehlewind
   ETH Zurich
   Gloriastrasse 35
   8092 Zurich
   Switzerland

   Email: mirja.kuehlewind@tik.ee.ethz.ch









Kuehlewind & Trammell     Expires July 14, 2017                 [Page 5]

Internet-DrafApplicability and Management of the QUIC Trans January 2017


   Brian Trammell
   ETH Zurich
   Gloriastrasse 35
   8092 Zurich
   Switzerland

   Email: ietf@trammell.ch












































Kuehlewind & Trammell     Expires July 14, 2017                 [Page 6]
